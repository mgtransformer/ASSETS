<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>My Emergency Hospitals</title>
    
    <!-- PWA Settings -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#D9531E">
    <link rel="icon" type="image/png" href="https://mgtransformer.com/MG_LOGO_WITH_NAME-removebg-preview.png">
    <link rel="apple-touch-icon" href="https://mgtransformer.com/MG_LOGO_WITH_NAME-removebg-preview.png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* Personal Branding Colors */
        :root {
            --primary-orange: #D9531E;
            --secondary-bg: #fff0e6;
            --text-burnt-orange: #a0400e;
        }
        
        body { 
            font-family: 'Fredoka', sans-serif; 
            background-color: #f8f9fa; 
            -webkit-tap-highlight-color: transparent;
        }
        .secondary-font { font-family: 'Nunito', sans-serif; }
        
        .text-primary { color: var(--primary-orange); }
        .bg-primary { background-color: var(--primary-orange); }
        
        .card-shadow { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); }
        
        /* Hide Scrollbar */
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="min-h-screen flex flex-col pb-safe">

    <!-- Header -->
    <header class="bg-white shadow-md p-4 sticky top-0 z-50 border-b-4 border-[#D9531E]">
        <div class="max-w-4xl mx-auto flex justify-between items-center">
            <div class="text-left">
                <h1 class="text-2xl font-bold text-primary">My Hospitals</h1>
                <p class="text-xs text-gray-600 secondary-font mt-1">Sector-19, Kamothe | <span class="text-green-600 font-bold">Niva Bupa Cashless</span></p>
            </div>
            
            <!-- SAVE AS HTML BUTTON -->
            <button onclick="downloadSelf()" class="bg-orange-50 text-[#D9531E] border border-orange-200 px-3 py-2 rounded-lg text-xs font-bold hover:bg-orange-100 transition flex flex-col items-center">
                <i class="fas fa-file-download text-lg"></i>
                <span>Save File</span>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow p-4 max-w-4xl mx-auto w-full pb-24">
        
        <!-- Search Bar -->
        <div class="relative mb-6">
            <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                <i class="fas fa-search text-gray-400"></i>
            </div>
            <input type="text" id="search-input" onkeyup="filterList()" 
                class="block w-full p-4 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-white focus:ring-[#D9531E] focus:border-[#D9531E] shadow-sm outline-none" 
                placeholder="Search (e.g., Eye, ICU, Panvel)...">
        </div>

        <!-- Filter Tabs -->
        <div class="flex overflow-x-auto pb-2 gap-2 mb-4 hide-scrollbar" style="-webkit-overflow-scrolling: touch;">
            <button onclick="setZoneFilter('all')" class="zone-btn active whitespace-nowrap px-4 py-2 rounded-full text-xs font-bold bg-primary text-white shadow-md ring-2 ring-offset-1 ring-[#D9531E]">All Nearby</button>
            <button onclick="setZoneFilter('Sector 19')" class="zone-btn whitespace-nowrap px-4 py-2 rounded-full text-xs font-bold bg-white text-gray-600 border border-gray-200">Sector 19 (Home)</button>
            <button onclick="setZoneFilter('Kamothe')" class="zone-btn whitespace-nowrap px-4 py-2 rounded-full text-xs font-bold bg-white text-gray-600 border border-gray-200">Rest of Kamothe</button>
            <button onclick="setZoneFilter('Khanda Colony')" class="zone-btn whitespace-nowrap px-4 py-2 rounded-full text-xs font-bold bg-white text-gray-600 border border-gray-200">Khanda Colony</button>
            <button onclick="setZoneFilter('Panvel')" class="zone-btn whitespace-nowrap px-4 py-2 rounded-full text-xs font-bold bg-white text-gray-600 border border-gray-200">Panvel</button>
        </div>

        <!-- Result Count -->
        <p id="result-count" class="text-xs text-gray-500 mb-2 font-bold secondary-font text-right">Loading data...</p>

        <!-- Hospital List -->
        <div id="hospital-container" class="space-y-4"></div>

    </main>

    <footer class="bg-gray-800 text-white text-center p-4 mt-auto secondary-font text-xs">
        <p>Personal Emergency List â€¢ Mukund M. Gawale</p>
    </footer>

    <script>
        // --- DATA ---
        const hospitals = [
            // ZONE 1: SECTOR 19
            { 
                name: "Healing Touch Eye Hospital", 
                address: "Shop No 5/6 Satyam Heights, Plot No 81, Sector 19, Kamothe", 
                area: "Sector 19", 
                distance: "0.2 km", 
                facilities: "Ophthalmology, Cataract, Eye Emergency",
                facilities_mr: "à¤¨à¥‡à¤¤à¥à¤°à¤°à¥‹à¤—, à¤®à¥‹à¤¤à¥€à¤¬à¤¿à¤‚à¤¦à¥‚, à¤¡à¥‹à¤³à¥à¤¯à¤¾à¤‚à¤šà¥€ à¤†à¤ªà¤¤à¥à¤•à¤¾à¤²à¥€à¤¨ à¤¸à¥‡à¤µà¤¾",
                badge: "Nearest ðŸ " 
            },
            { 
                name: "Orchid Multispeciality Hospital", 
                address: "First Floor B Wing, Silver Star CHS, Sector 18, Kamothe", 
                area: "Sector 19", 
                distance: "0.4 km", 
                facilities: "ICU, Trauma, General Surgery, 24x7 Emergency",
                facilities_mr: "à¤†à¤¯à¤¸à¥€à¤¯à¥‚, à¤Ÿà¥à¤°à¤¾à¥à¤®à¤¾ à¤•à¥‡à¤…à¤°, à¤œà¤¨à¤°à¤² à¤¸à¤°à¥à¤œà¤°à¥€, à¥¨à¥ªxà¥­ à¤†à¤ªà¤¤à¥à¤•à¤¾à¤²à¥€à¤¨ à¤¸à¥‡à¤µà¤¾"
            },
            { 
                name: "Sunrise Multispeciality Hospital", 
                address: "Shiva Kalpataru Arcade, Building No 1, Plot 01, Sector 17, Kamothe", 
                area: "Sector 19", 
                distance: "0.5 km", 
                facilities: "General Medicine, ICU, Casualty, Diagnostics",
                facilities_mr: "à¤œà¤¨à¤°à¤² à¤®à¥‡à¤¡à¤¿à¤¸à¤¿à¤¨, à¤†à¤¯à¤¸à¥€à¤¯à¥‚, à¤…à¤ªà¤˜à¤¾à¤¤ à¤µà¤¿à¤­à¤¾à¤—, à¤¨à¤¿à¤¦à¤¾à¤¨ à¤•à¥‡à¤‚à¤¦à¥à¤°"
            },
            { 
                name: "Life Era Multispeciality Hospital", 
                address: "33 & 34, Sector 20, Kamothe, Navi Mumbai", 
                area: "Sector 19", 
                distance: "0.6 km", 
                facilities: "Multispeciality, ICU, Orthopedics, Gynecology",
                facilities_mr: "à¤®à¤²à¥à¤Ÿà¥€à¤¸à¥à¤ªà¥‡à¤¶à¤¾à¤²à¤¿à¤Ÿà¥€, à¤†à¤¯à¤¸à¥€à¤¯à¥‚, à¤…à¤¸à¥à¤¥à¤¿à¤°à¥‹à¤—, à¤¸à¥à¤¤à¥à¤°à¥€à¤°à¥‹à¤—"
            },
            { 
                name: "Jeevan Jyot Hospital", 
                address: "Shubh Avenue Building, Ground & First Floor, Sec 21, Plot No 59 C, Kamothe", 
                area: "Sector 19", 
                distance: "0.8 km", 
                facilities: "Maternity, Child Care, General Medicine",
                facilities_mr: "à¤ªà¥à¤°à¤¸à¥‚à¤¤à¥€à¤—à¥ƒà¤¹, à¤¬à¤¾à¤²à¤°à¥‹à¤—, à¤œà¤¨à¤°à¤² à¤®à¥‡à¤¡à¤¿à¤¸à¤¿à¤¨"
            },
            { 
                name: "New Pulse Multispeciality Hospital", 
                address: "Shop No 5/6 Dharti Heights, Plot No 28, Sector 21, Kamothe", 
                area: "Sector 19", 
                distance: "0.9 km", 
                facilities: "ICU, Trauma Care, Cardiology, Surgery",
                facilities_mr: "à¤†à¤¯à¤¸à¥€à¤¯à¥‚, à¤Ÿà¥à¤°à¤¾à¥à¤®à¤¾ à¤•à¥‡à¤…à¤°, à¤¹à¥ƒà¤¦à¤¯à¤µà¤¿à¤•à¤¾à¤°, à¤¶à¤¸à¥à¤¤à¥à¤°à¤•à¥à¤°à¤¿à¤¯à¤¾"
            },

            // ZONE 2: REST OF KAMOTHE
            { 
                name: "Medisecure Superspeciality Hospital", 
                address: "Plot No 10/8, Sec 7, Opp SBI Bank Main Road, Kamothe", 
                area: "Kamothe", 
                distance: "1.5 km", 
                facilities: "Superspeciality, Cardiac Care, Neurology, Advanced ICU",
                facilities_mr: "à¤¸à¥à¤ªà¤°à¤¸à¥à¤ªà¥‡à¤¶à¤¾à¤²à¤¿à¤Ÿà¥€, à¤¹à¥ƒà¤¦à¤¯à¤µà¤¿à¤•à¤¾à¤°, à¤®à¤œà¥à¤œà¤¾à¤¤à¤‚à¤¤à¥‚ à¤µà¤¿à¤•à¤¾à¤°, à¤ªà¥à¤°à¤—à¤¤ à¤†à¤¯à¤¸à¥€à¤¯à¥‚"
            },
            { 
                name: "Swami Krupa Nursing Home", 
                address: "Plot 159, Sect 14, Kamothe", 
                area: "Kamothe", 
                distance: "1.2 km", 
                facilities: "Nursing Home, Maternity, General Observation",
                facilities_mr: "à¤¨à¤°à¥à¤¸à¤¿à¤‚à¤— à¤¹à¥‹à¤®, à¤ªà¥à¤°à¤¸à¥‚à¤¤à¥€ à¤¸à¥‡à¤µà¤¾, à¤œà¤¨à¤°à¤² à¤‘à¤¬à¥à¤à¤°à¥à¤µà¥‡à¤¶à¤¨"
            },
            { 
                name: "B And J Superspeciality Hospital", 
                address: "Mhalsa Residency Plot No 6, Sector 36, Kamothe", 
                area: "Kamothe", 
                distance: "2.5 km", 
                facilities: "Joint Replacement, Orthopedics, Spine Surgery",
                facilities_mr: "à¤¸à¤¾à¤‚à¤§à¥‡ à¤ªà¥à¤°à¤¤à¥à¤¯à¤¾à¤°à¥‹à¤ªà¤£, à¤…à¤¸à¥à¤¥à¤¿à¤°à¥‹à¤—, à¤®à¤£à¤•à¥à¤¯à¤¾à¤šà¥à¤¯à¤¾ à¤¶à¤¸à¥à¤¤à¥à¤°à¤•à¥à¤°à¤¿à¤¯à¤¾"
            },
            { 
                name: "Mauli Accident And General Hospital", 
                address: "Plot No 104A Sector 14, Neelkanth Height, Kamothe", 
                area: "Kamothe", 
                distance: "1.2 km", 
                facilities: "Accident Care, Trauma Center, Fracture Clinic",
                facilities_mr: "à¤…à¤ªà¤˜à¤¾à¤¤ à¤µà¤¿à¤­à¤¾à¤—, à¤Ÿà¥à¤°à¤¾à¥à¤®à¤¾ à¤¸à¥‡à¤‚à¤Ÿà¤°, à¤«à¥à¤°à¥…à¤•à¥à¤šà¤° à¤•à¥à¤²à¤¿à¤¨à¤¿à¤•"
            },

            // ZONE 3: KHANDA COLONY
            { 
                name: "Ashtvinayak Hospital", 
                address: "Plot No 10, Sector 6, Khanda Colony, New Panvel(W)", 
                area: "Khanda Colony", 
                distance: "1.5 km", 
                facilities: "General Hospital, Emergency Services, ICU",
                facilities_mr: "à¤œà¤¨à¤°à¤² à¤¹à¥‰à¤¸à¥à¤ªà¤¿à¤Ÿà¤², à¤†à¤ªà¤¤à¥à¤•à¤¾à¤²à¥€à¤¨ à¤¸à¥‡à¤µà¤¾, à¤†à¤¯à¤¸à¥€à¤¯à¥‚"
            },
            { 
                name: "More Hospital And ICU Pvt Ltd", 
                address: "A 101 Shree Sai Shraddha Society, Plot No 12, Sector 17, Khanda Colony", 
                area: "Khanda Colony", 
                distance: "1.6 km", 
                facilities: "Critical Care (ICU), General Medicine",
                facilities_mr: "à¤…à¤¤à¤¿à¤¦à¤•à¥à¤·à¤¤à¤¾ à¤µà¤¿à¤­à¤¾à¤— (ICU), à¤œà¤¨à¤°à¤² à¤®à¥‡à¤¡à¤¿à¤¸à¤¿à¤¨"
            },
            { 
                name: "Maxx Healthcare Hospital", 
                address: "Row House Plot 3B Near Swad Hotel, Sector 10, Khanda Colony", 
                area: "Khanda Colony", 
                distance: "1.8 km", 
                facilities: "General Surgery, Medicine, Emergency",
                facilities_mr: "à¤œà¤¨à¤°à¤² à¤¸à¤°à¥à¤œà¤°à¥€, à¤®à¥‡à¤¡à¤¿à¤¸à¤¿à¤¨, à¤†à¤ªà¤¤à¥à¤•à¤¾à¤²à¥€à¤¨ à¤¸à¥‡à¤µà¤¾"
            },
            { 
                name: "Thombare Hospital", 
                address: "1st Floor Riddhi CHS, Shop 116-119, Sector 13, Khanda Colony", 
                area: "Khanda Colony", 
                distance: "1.7 km", 
                facilities: "General Hospital, Nursing Care",
                facilities_mr: "à¤œà¤¨à¤°à¤² à¤¹à¥‰à¤¸à¥à¤ªà¤¿à¤Ÿà¤², à¤¨à¤°à¥à¤¸à¤¿à¤‚à¤— à¤•à¥‡à¤…à¤°"
            },
            { 
                name: "Padalkar Hospital & SICU", 
                address: "105/204 A Neel Enclave, Sector 9, Khanda Colony", 
                area: "Khanda Colony", 
                distance: "1.9 km", 
                facilities: "Surgical ICU, Orthopedics, Trauma",
                facilities_mr: "à¤¸à¤°à¥à¤œà¤¿à¤•à¤² à¤†à¤¯à¤¸à¥€à¤¯à¥‚, à¤…à¤¸à¥à¤¥à¤¿à¤°à¥‹à¤—, à¤Ÿà¥à¤°à¤¾à¥à¤®à¤¾"
            },

            // ZONE 4: PANVEL
            { 
                name: "Panacea Hospital", 
                address: "Plot No 105 & 106, Sector No 08, New Panvel East", 
                area: "Panvel", 
                distance: "2.5 km", 
                facilities: "Medical Research, Multispeciality, Diagnostics",
                facilities_mr: "à¤µà¥ˆà¤¦à¥à¤¯à¤•à¥€à¤¯ à¤¸à¤‚à¤¶à¥‹à¤§à¤¨, à¤®à¤²à¥à¤Ÿà¥€à¤¸à¥à¤ªà¥‡à¤¶à¤¾à¤²à¤¿à¤Ÿà¥€, à¤¡à¤¾à¤¯à¤—à¥à¤¨à¥‹à¤¸à¥à¤Ÿà¤¿à¤•à¥à¤¸"
            },
            { 
                name: "Prism Eye Institute", 
                address: "Plot No 63 Sector 1 (S), Behind CIDCO Office, New Panvel", 
                area: "Panvel", 
                distance: "3.0 km", 
                facilities: "Advanced Eye Care, Laser Surgery, Retina Clinic",
                facilities_mr: "à¤ªà¥à¤°à¤—à¤¤ à¤¨à¥‡à¤¤à¥à¤°à¤°à¥‹à¤— à¤¸à¥‡à¤µà¤¾, à¤²à¥‡à¤¸à¤° à¤¶à¤¸à¥à¤¤à¥à¤°à¤•à¥à¤°à¤¿à¤¯à¤¾, à¤°à¥‡à¤Ÿà¤¿à¤¨à¤¾ à¤•à¥à¤²à¤¿à¤¨à¤¿à¤•"
            },
            { 
                name: "Aadhar Multispeciality Hospital", 
                address: "7A 1st Floor Gurusharanam Complex, Vishrali Naka, Old Panvel", 
                area: "Panvel", 
                distance: "3.5 km", 
                facilities: "Multispeciality, ICU, Dialysis",
                facilities_mr: "à¤®à¤²à¥à¤Ÿà¥€à¤¸à¥à¤ªà¥‡à¤¶à¤¾à¤²à¤¿à¤Ÿà¥€, à¤†à¤¯à¤¸à¥€à¤¯à¥‚, à¤¡à¤¾à¤¯à¤²à¤¿à¤¸à¤¿à¤¸"
            },
            { 
                name: "Unnati Hospital And ICU", 
                address: "J K Plaza Shivaji Chowk, Opp Durga Mata Mandir, Panvel", 
                area: "Panvel", 
                distance: "3.5 km", 
                facilities: "ICU, Trauma, General Medicine",
                facilities_mr: "à¤†à¤¯à¤¸à¥€à¤¯à¥‚, à¤Ÿà¥à¤°à¤¾à¥à¤®à¤¾, à¤œà¤¨à¤°à¤² à¤®à¥‡à¤¡à¤¿à¤¸à¤¿à¤¨"
            },
            { 
                name: "Lifeline Hospital", 
                address: "Shivaji Road, Opp ST Bus Stand, Panvel", 
                area: "Panvel", 
                distance: "3.6 km", 
                facilities: "Trauma Center, Emergency, Medical Research",
                facilities_mr: "à¤Ÿà¥à¤°à¤¾à¥à¤®à¤¾ à¤¸à¥‡à¤‚à¤Ÿà¤°, à¤†à¤ªà¤¤à¥à¤•à¤¾à¤²à¥€à¤¨ à¤¸à¥‡à¤µà¤¾, à¤µà¥ˆà¤¦à¥à¤¯à¤•à¥€à¤¯ à¤¸à¤‚à¤¶à¥‹à¤§à¤¨"
            },

            // ZONE 5: KHARGHAR
            { 
                name: "Medicover Hospitals", 
                address: "Plot No 1, Sector 10, Near BOI, Kharghar", 
                area: "Kharghar", 
                distance: "3.5 km", 
                facilities: "Tertiary Care, Cardiology, Neurology, Orthopedics, ICU",
                facilities_mr: "à¤¤à¤œà¥à¤œà¥à¤ž à¤‰à¤ªà¤šà¤¾à¤°, à¤¹à¥ƒà¤¦à¤¯à¤µà¤¿à¤•à¤¾à¤°, à¤®à¤œà¥à¤œà¤¾à¤¤à¤‚à¤¤à¥‚ à¤µà¤¿à¤•à¤¾à¤°, à¤…à¤¸à¥à¤¥à¤¿à¤°à¥‹à¤—, à¤†à¤¯à¤¸à¥€à¤¯à¥‚"
            },
            { 
                name: "Mitr Healthcare", 
                address: "74-79 Chaturbhuj CHS, Sector 12, Shilp Chowk, Kharghar", 
                area: "Kharghar", 
                distance: "4.0 km", 
                facilities: "General Healthcare, OPD, Diagnostics",
                facilities_mr: "à¤œà¤¨à¤°à¤² à¤¹à¥‡à¤²à¥à¤¥à¤•à¥‡à¤…à¤°, à¤“à¤ªà¥€à¤¡à¥€, à¤¨à¤¿à¤¦à¤¾à¤¨ à¤•à¥‡à¤‚à¤¦à¥à¤°"
            }
        ];

        // --- FILTER LOGIC ---
        let currentFilter = 'all';

        function setZoneFilter(zone) {
            currentFilter = zone;
            document.querySelectorAll('.zone-btn').forEach(btn => {
                btn.className = "zone-btn whitespace-nowrap px-4 py-2 rounded-full text-xs font-bold bg-white text-gray-600 border border-gray-200 transition";
                if(btn.textContent.includes(zone === 'Sector 19' ? 'Sector 19' : zone === 'all' ? 'All' : zone)) {
                    btn.className = "zone-btn active whitespace-nowrap px-4 py-2 rounded-full text-xs font-bold bg-primary text-white shadow-md ring-2 ring-offset-1 ring-[#D9531E]";
                }
            });
            filterList();
        }

        function filterList() {
            const searchText = document.getElementById('search-input').value.toLowerCase();
            const container = document.getElementById('hospital-container');
            const countLabel = document.getElementById('result-count');
            
            container.innerHTML = '';

            const filtered = hospitals.filter(h => {
                const matchesZone = currentFilter === 'all' || h.area === currentFilter;
                const matchesSearch = h.name.toLowerCase().includes(searchText) || 
                                      h.facilities.toLowerCase().includes(searchText) || 
                                      h.facilities_mr.includes(searchText);
                return matchesZone && matchesSearch;
            });

            countLabel.textContent = `Found ${filtered.length} hospitals`;

            if (filtered.length === 0) {
                container.innerHTML = `<div class="text-center p-8 bg-white rounded-xl border border-gray-200"><i class="fas fa-hospital-alt text-gray-300 text-4xl mb-3"></i><p class="text-gray-500 font-bold">No matches found.</p><p class="text-xs text-gray-400">Try changing the zone or search term.</p></div>`;
                return;
            }

            filtered.forEach(h => {
                const badgeHtml = h.badge ? `<span class="bg-green-100 text-green-700 text-[10px] font-bold px-2 py-0.5 rounded border border-green-200 mb-1 inline-block">${h.badge}</span>` : '';
                
                const card = `
                <div class="bg-white rounded-xl p-4 border-l-4 border-[#D9531E] card-shadow relative overflow-hidden transition transform active:scale-95 duration-100">
                    <div class="flex justify-between items-start">
                        <div class="w-[70%]">
                            <h2 class="text-lg font-bold text-gray-800 leading-tight">${h.name}</h2>
                            <p class="text-xs text-gray-500 secondary-font mt-1"><i class="fas fa-map-pin text-[#D9531E] mr-1"></i>${h.address}</p>
                            <div class="mt-3 space-y-1.5">
                                <div class="flex items-start gap-2">
                                    <i class="fas fa-stethoscope text-[#D9531E] text-xs mt-0.5"></i>
                                    <span class="text-xs font-semibold text-gray-700 bg-orange-50 px-2 py-0.5 rounded leading-tight">${h.facilities}</span>
                                </div>
                                <div class="flex items-start gap-2">
                                    <span class="text-xs mt-0.5">ðŸš©</span>
                                    <span class="text-xs font-semibold text-gray-600 secondary-font bg-gray-50 px-2 py-0.5 rounded border border-gray-100 leading-tight">${h.facilities_mr}</span>
                                </div>
                            </div>
                        </div>
                        <div class="w-[30%] text-right flex flex-col items-end">
                            ${badgeHtml}
                            <span class="text-xl font-bold text-gray-700">${h.distance}</span>
                            <span class="text-[10px] text-gray-400 uppercase tracking-wide">Approx</span>
                            <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(h.name + ' ' + h.address)}" 
                               target="_blank"
                               class="mt-3 bg-[#D9531E] text-white text-xs font-bold px-3 py-2 rounded-lg shadow hover:bg-[#b03e12] flex items-center gap-1 w-full justify-center">
                               <i class="fas fa-location-arrow"></i> Map
                            </a>
                        </div>
                    </div>
                </div>`;
                container.innerHTML += card;
            });
        }

        // --- DOWNLOAD SELF LOGIC ---
        function downloadSelf() {
            const htmlContent = document.documentElement.outerHTML;
            const blob = new Blob(['<!DOCTYPE html>', htmlContent], {type: 'text/html'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = "emergency.html";
            document.body.appendChild(a);
            a.click();
            setTimeout(() => { document.body.removeChild(a); URL.revokeObjectURL(url); }, 100);
        }

        // Initialize
        window.onload = function() {
            setZoneFilter('all');
        };
    </script>
</body>
</html>